(()=>{var e={};e.id=503,e.ids=[503],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},1304:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o}),a(3560),a(4809),a(2593);var t=a(3826),r=a(9930),n=a(2049),l=a.n(n),i=a(8405),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let o=["",{children:["stream",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3560)),"/home/jistriane/Documentos/StreamPay AI/StreamPay-AI/frontend/app/stream/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4809)),"/home/jistriane/Documentos/StreamPay AI/StreamPay-AI/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,2593,23)),"next/dist/client/components/not-found-error"]}],c=["/home/jistriane/Documentos/StreamPay AI/StreamPay-AI/frontend/app/stream/[id]/page.tsx"],m="/stream/[id]/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/stream/[id]/page",pathname:"/stream/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9867:(e,s,a)=>{Promise.resolve().then(a.bind(a,905))},905:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(1694),r=a(1324),n=a(4666),l=a(752),i=a(8570),d=a(2166);function o(){let e=(0,r.useRouter)(),s=(0,r.useParams)(),a=s?.id,[o,c]=(0,t.useState)(null),[m,x]=(0,t.useState)(!0),[p,h]=(0,t.useState)(null),[u,g]=(0,t.useState)(!1),[j,b]=(0,t.useState)(null),v=async()=>{if(o){g(!0),b(null);try{if(!(await (0,i.ri)(`${process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001"}/api/streams/${a}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).ok)throw Error("Erro ao reivindicar stream");b("✅ Stream reivindicado com sucesso!"),setTimeout(()=>window.location.reload(),1500)}catch(e){b(`❌ Erro: ${e instanceof Error?e.message:"Erro desconhecido"}`)}finally{g(!1)}}},N=async()=>{if(o){g(!0),b(null);try{if(!(await (0,i.ri)(`${process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001"}/api/streams/${a}/pause`,{method:"PATCH",headers:{"Content-Type":"application/json"}})).ok)throw Error("Erro ao pausar stream");b("⏸️ Stream pausado com sucesso!"),setTimeout(()=>window.location.reload(),1500)}catch(e){b(`❌ Erro: ${e instanceof Error?e.message:"Erro desconhecido"}`)}finally{g(!1)}}},y=async()=>{if(o&&confirm("Tem certeza que deseja cancelar este stream?")){g(!0),b(null);try{if(!(await (0,i.ri)(`${process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001"}/api/streams/${a}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw Error("Erro ao cancelar stream");b("\uD83D\uDDD1️ Stream cancelado com sucesso!"),setTimeout(()=>e.push("/dashboard"),1500)}catch(e){b(`❌ Erro: ${e instanceof Error?e.message:"Erro desconhecido"}`)}finally{g(!1)}}},f=(()=>{if(!o)return{perHour:0,perDay:0,perMonth:0};let e=3600*parseFloat(o.rate_per_second||"0"),s=24*e;return{perHour:e,perDay:s,perMonth:30*s}})(),P=o?.status==="active"?"text-green-400":o?.status==="paused"?"text-yellow-400":"text-red-400",_=o?.status==="active"?"bg-green-500/20":o?.status==="paused"?"bg-yellow-500/20":"bg-red-500/20";return m?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:d.jsx(n.Z,{variant:"glass",padding:"lg",children:d.jsx("p",{className:"text-center",children:"Carregando detalhes do stream..."})})}):p||!o?d.jsx("div",{className:"min-h-screen py-8 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:d.jsx("div",{className:"max-w-4xl mx-auto px-4",children:(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",className:"text-center",children:[(0,d.jsxs)("p",{className:"text-red-400 mb-4",children:["❌ ",p||"Stream n\xe3o encontrado"]}),d.jsx(l.Z,{onClick:()=>e.push("/dashboard"),variant:"neon",children:"Voltar ao Dashboard"})]})})}):d.jsx("div",{className:"min-h-screen py-8 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:(0,d.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,d.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("h1",{className:"text-4xl font-bold text-gradient mb-2",children:["Stream #",o.id]}),d.jsx("p",{className:"text-secondary",children:"Detalhes completos da transa\xe7\xe3o"})]}),d.jsx(l.Z,{onClick:()=>e.push("/dashboard"),variant:"ghost",children:"← Voltar"})]}),(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",className:"mb-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-sm text-secondary mb-2",children:"Status"}),d.jsx("div",{className:`px-4 py-2 rounded-lg ${_} inline-block`,children:d.jsx("p",{className:`font-bold ${P} uppercase`,children:o.status})})]}),(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-sm text-secondary mb-2",children:"Criado em"}),d.jsx("p",{className:"font-mono text-sm",children:new Date(o.created_at).toLocaleDateString("pt-BR")})]}),(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-sm text-secondary mb-2",children:"Token"}),d.jsx("p",{className:"text-xl font-bold text-cyan-400",children:o.token})]})]}),j&&d.jsx("div",{className:`mt-6 p-4 rounded-lg ${j.includes("❌")?"bg-red-500/20 border border-red-500/50":"bg-green-500/20 border border-green-500/50"}`,children:d.jsx("p",{className:j.includes("❌")?"text-red-400":"text-green-400",children:j})})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Endere\xe7os"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-1",children:"De (Sender)"}),d.jsx("p",{className:"font-mono text-sm break-all",children:o.sender})]}),(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-1",children:"Para (Recipient)"}),d.jsx("p",{className:"font-mono text-sm break-all",children:o.recipient})]})]})]}),(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Valores"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-sm text-secondary mb-1",children:"Depositado"}),(0,d.jsxs)("p",{className:"text-2xl font-bold text-cyan-400",children:[o.deposit," ",o.token]})]}),o.claimed_amount&&(0,d.jsxs)("div",{children:[d.jsx("p",{className:"text-sm text-secondary mb-1",children:"Reivindicado"}),(0,d.jsxs)("p",{className:"text-lg font-semibold text-green-400",children:[o.claimed_amount," ",o.token]})]})]})]})]}),(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Taxa de Fluxo"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"bg-slate-800/50 rounded p-4",children:[d.jsx("p",{className:"text-xs text-secondary mb-2",children:"Por Segundo"}),d.jsx("p",{className:"text-lg font-bold text-cyan-400",children:o.rate_per_second})]}),(0,d.jsxs)("div",{className:"bg-slate-800/50 rounded p-4",children:[d.jsx("p",{className:"text-xs text-secondary mb-2",children:"Por Hora"}),d.jsx("p",{className:"text-lg font-bold text-cyan-400",children:f.perHour.toFixed(2)})]}),(0,d.jsxs)("div",{className:"bg-slate-800/50 rounded p-4",children:[d.jsx("p",{className:"text-xs text-secondary mb-2",children:"Por Dia"}),d.jsx("p",{className:"text-lg font-bold text-cyan-400",children:f.perDay.toFixed(2)})]}),(0,d.jsxs)("div",{className:"bg-slate-800/50 rounded p-4",children:[d.jsx("p",{className:"text-xs text-secondary mb-2",children:"Por M\xeas"}),d.jsx("p",{className:"text-lg font-bold text-cyan-400",children:f.perMonth.toFixed(2)})]})]})]}),o.remaining_balance&&(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",className:"mb-8",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"Saldo Restante"}),(0,d.jsxs)("p",{className:"text-3xl font-bold text-green-400",children:[o.remaining_balance," ",o.token]})]}),(0,d.jsxs)(n.Z,{variant:"glass",padding:"lg",children:[d.jsx("h2",{className:"text-xl font-bold mb-4",children:"A\xe7\xf5es Dispon\xedveis"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["active"===o.status&&(0,d.jsxs)(d.Fragment,{children:[d.jsx(l.Z,{variant:"neon",onClick:v,disabled:u,fullWidth:!0,children:u?"⏳ Processando...":"\uD83D\uDCB0 Reivindicar"}),d.jsx(l.Z,{variant:"neon",onClick:N,disabled:u,fullWidth:!0,children:u?"⏳ Processando...":"⏸️ Pausar"})]}),d.jsx(l.Z,{variant:"neon",onClick:y,disabled:u||"cancelled"===o.status,fullWidth:!0,className:"cancelled"===o.status?"opacity-50 cursor-not-allowed":"",children:u?"⏳ Processando...":"\uD83D\uDDD1️ Cancelar"})]})]})]})})}},3560:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(7866).createProxy)(String.raw`/home/jistriane/Documentos/StreamPay AI/StreamPay-AI/frontend/app/stream/[id]/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[148,942,569],()=>a(1304));module.exports=t})();